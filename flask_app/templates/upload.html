<!DOCTYPE html>
<html>
   <head>
      <title>Sesame</title>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <style>
         body,
         h1,
         h2,
         h3,
         h4,
         h5,
         h6 {
         font-family: "Montserrat", sans-serif
         }
         .w3-row-padding img {
         margin-bottom: 12px
         }
         .bgimg {
         background-position: center;
         background-repeat: no-repeat;
         background-size: cover;
         min-height: 100%;
         }
      </style>
   </head>
   <body>
      <!-- Page Content -->
      <div class="w3-main w3-padding-large" style="max-width: 80%;margin: auto;">
         <!-- Header -->
         <header class="w3-container w3-center" style="padding:60px" id="home">
            <h1 class="w3-xxxlarge"><b><a href="{{ url_for('index') }}">Clever Door</a></b></h1>
            <p><a href="{{ url_for('admin_dashboard') }}">Admin Dashboard</a></p>
         </header>
         <!-- Upload form -->
         <div class="w3-container w3-padding-48 w3-center w3-light-grey">
            <h2 class="w3-margin-bottom">Upload Image</h2>
            <form class="w3-container" method="POST" action="/matches" enctype="multipart/form-data"
               onsubmit="return checkImageSelected()">
               <input type="file" name="image" id="image" style="margin:14px">
               <input type="submit" value="check face" style="margin:14px">
            </form>
         </div>
         {% if prediction is defined %}
         <div class="w3-container w3-light-grey w3-center" style="margin-top:15px">
            <img src="{{ url_for('static', filename='uploaded_image_processed/' + filename) }}" alt="Uploaded Image" style="max-width: 300px; margin-top:15px">
            {% if prediction == 1 %} 
            <h1>Vous êtes reconnu(e) !</h1>
            {% else %}
            <h1>Vous n'êtes pas reconnu(e) !</h1>
            {% endif %}
         </div>
         {% endif %}
         <!-- Footer -->
         <footer class="w3-container w3-center w3-padding-36 w3-opacity w3-large" style="margin:28px">
            <i class="fa fa-github w3-jumbo"></i>
            <p class="w3-medium">Powered by <a href="https://github.com/Hatchi-Kin/Clever_Door" target="_blank"
               class="w3-hover-text-green">Clever_Door</a></p>
         </footer>
      </div>
      <!-- Dirty Javascript -->
      <script>
         function checkImageSelected() {
           var image = document.getElementById("image");
           if (image.value == "") {
             alert("Please select an image file.");
             return false;
           }
           return true;
         }
      </script>
   </body>
</html>
